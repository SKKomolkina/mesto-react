{"ast":null,"code":"import _slicedToArray from\"/Users/meowmeow/development/mesto-react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React from'react';import{api}from'./../utils/Api';import{CurrentUserContext}from'../contexts/CurrentUserContext';import Card from'./Card.js';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Main(props){var onEditAvatar=props.onEditAvatar,onEditProfile=props.onEditProfile,onAddPlace=props.onAddPlace,onCardClick=props.onCardClick;var user=React.useContext(CurrentUserContext);// const [userName, setUserName] = React.useState('');\n// const [userDescription, setUserDescription] = React.useState('');\n// const [userAvatar, setUserAvatar] = React.useState('');\nvar _React$useState=React.useState([]),_React$useState2=_slicedToArray(_React$useState,2),cards=_React$useState2[0],setCards=_React$useState2[1];// React.useEffect(() => {\n//     api.getUserData()\n//         .then((card) => {\n//             setUserName(card.name);\n//             setUserDescription(card.about);\n//             setUserAvatar(card.avatar);\n//         })\n//         .catch((err) => {\n//             console.log(err);\n//         })\n// }, []);\nReact.useEffect(function(){api.getInitialCards().then(function(cards){console.log(cards);setCards(cards);}).catch(function(err){console.log(err);});},[]);return/*#__PURE__*/_jsxs(\"main\",{children:[/*#__PURE__*/_jsx(\"section\",{className:\"profile\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"profile__container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"profile__photo-wrapper\",onClick:onEditAvatar,children:/*#__PURE__*/_jsx(\"img\",{name:\"avatar\",src:user.avatar,alt:\"\\u0412\\u0430\\u0448\\u0435 \\u0444\\u043E\\u0442\\u043E\",className:\"profile__photo\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"profile__info\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"profile__name\",children:user.name}),/*#__PURE__*/_jsx(\"button\",{className:\"profile__btn-edit\",type:\"button\",value:\"\",onClick:onEditProfile}),/*#__PURE__*/_jsx(\"p\",{className:\"profile__about\",children:user.sbout})]}),/*#__PURE__*/_jsx(\"button\",{className:\"profile__btn-add\",type:\"button\",onClick:onAddPlace})]})}),/*#__PURE__*/_jsx(\"section\",{className:\"photos\",children:cards.map(function(card){return/*#__PURE__*/_jsx(Card,{card:card,onCardClick:onCardClick},card._id);})})]});}export default Main;","map":{"version":3,"sources":["/Users/meowmeow/development/mesto-react/src/components/Main.js"],"names":["React","api","CurrentUserContext","Card","Main","props","onEditAvatar","onEditProfile","onAddPlace","onCardClick","user","useContext","useState","cards","setCards","useEffect","getInitialCards","then","console","log","catch","err","avatar","name","sbout","map","card","_id"],"mappings":"8JAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,GAAT,KAAoB,gBAApB,CACA,OAASC,kBAAT,KAAmC,gCAAnC,CACA,MAAOC,CAAAA,IAAP,KAAiB,WAAjB,C,wFAEA,QAASC,CAAAA,IAAT,CAAcC,KAAd,CAAqB,CACjB,GAAQC,CAAAA,YAAR,CAAiED,KAAjE,CAAQC,YAAR,CAAsBC,aAAtB,CAAiEF,KAAjE,CAAsBE,aAAtB,CAAqCC,UAArC,CAAiEH,KAAjE,CAAqCG,UAArC,CAAiDC,WAAjD,CAAiEJ,KAAjE,CAAiDI,WAAjD,CAEA,GAAMC,CAAAA,IAAI,CAAGV,KAAK,CAACW,UAAN,CAAiBT,kBAAjB,CAAb,CACA;AACA;AACA;AAEA,oBAA0BF,KAAK,CAACY,QAAN,CAAe,EAAf,CAA1B,oDAAOC,KAAP,qBAAcC,QAAd,qBAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEAd,KAAK,CAACe,SAAN,CAAgB,UAAM,CAClBd,GAAG,CAACe,eAAJ,GACKC,IADL,CACU,SAACJ,KAAD,CAAW,CACbK,OAAO,CAACC,GAAR,CAAYN,KAAZ,EACAC,QAAQ,CAACD,KAAD,CAAR,CACH,CAJL,EAKKO,KALL,CAKW,SAACC,GAAD,CAAS,CACZH,OAAO,CAACC,GAAR,CAAYE,GAAZ,EACH,CAPL,EAQH,CATD,CASG,EATH,EAWA,mBACI,qCACI,gBAAS,SAAS,CAAC,SAAnB,uBACI,aAAK,SAAS,CAAC,oBAAf,wBACI,YAAK,SAAS,CAAC,wBAAf,CAAwC,OAAO,CAAEf,YAAjD,uBACI,YAAK,IAAI,CAAC,QAAV,CACI,GAAG,CAAEI,IAAI,CAACY,MADd,CAEI,GAAG,CAAC,mDAFR,CAEoB,SAAS,CAAC,gBAF9B,EADJ,EADJ,cAOI,aAAK,SAAS,CAAC,eAAf,wBACI,WAAI,SAAS,CAAC,eAAd,UAA+BZ,IAAI,CAACa,IAApC,EADJ,cAEI,eAAQ,SAAS,CAAC,mBAAlB,CAAsC,IAAI,CAAC,QAA3C,CAAoD,KAAK,CAAC,EAA1D,CAA6D,OAAO,CAAEhB,aAAtE,EAFJ,cAGI,UAAG,SAAS,CAAC,gBAAb,UAA+BG,IAAI,CAACc,KAApC,EAHJ,GAPJ,cAaI,eAAQ,SAAS,CAAC,kBAAlB,CAAqC,IAAI,CAAC,QAA1C,CAAmD,OAAO,CAAEhB,UAA5D,EAbJ,GADJ,EADJ,cAmBI,gBAAS,SAAS,CAAC,QAAnB,UACKK,KAAK,CAACY,GAAN,CAAU,SAAAC,IAAI,qBAAI,KAAC,IAAD,EACf,IAAI,CAAEA,IADS,CAGf,WAAW,CAAEjB,WAHE,EAEViB,IAAI,CAACC,GAFK,CAAJ,EAAd,CADL,EAnBJ,GADJ,CA4BH,CAED,cAAevB,CAAAA,IAAf","sourcesContent":["import React from 'react';\nimport { api } from './../utils/Api';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\nimport Card from './Card.js';\n\nfunction Main(props) {\n    const { onEditAvatar, onEditProfile, onAddPlace, onCardClick } = props;\n\n    const user = React.useContext(CurrentUserContext);\n    // const [userName, setUserName] = React.useState('');\n    // const [userDescription, setUserDescription] = React.useState('');\n    // const [userAvatar, setUserAvatar] = React.useState('');\n\n    const [cards, setCards] = React.useState([]);\n\n\n    // React.useEffect(() => {\n    //     api.getUserData()\n    //         .then((card) => {\n    //             setUserName(card.name);\n    //             setUserDescription(card.about);\n    //             setUserAvatar(card.avatar);\n    //         })\n    //         .catch((err) => {\n    //             console.log(err);\n    //         })\n    // }, []);\n\n    React.useEffect(() => {\n        api.getInitialCards()\n            .then((cards) => {\n                console.log(cards);\n                setCards(cards);\n            })\n            .catch((err) => {\n                console.log(err);\n            })\n    }, []);\n\n    return (\n        <main>\n            <section className=\"profile\">\n                <div className=\"profile__container\">\n                    <div className=\"profile__photo-wrapper\" onClick={onEditAvatar}>\n                        <img name=\"avatar\"\n                            src={user.avatar}\n                            alt=\"Ваше фото\" className=\"profile__photo\" />\n                    </div>\n\n                    <div className=\"profile__info\">\n                        <h1 className=\"profile__name\">{user.name}</h1>\n                        <button className=\"profile__btn-edit\" type=\"button\" value=\"\" onClick={onEditProfile}></button>\n                        <p className=\"profile__about\">{user.sbout}</p>\n                    </div>\n\n                    <button className=\"profile__btn-add\" type=\"button\" onClick={onAddPlace}></button>\n                </div>\n            </section>\n\n            <section className=\"photos\">\n                {cards.map(card => <Card\n                    card={card}\n                    key={card._id}\n                    onCardClick={onCardClick} />)}\n            </section>\n        </main>\n    )\n}\n\nexport default Main"]},"metadata":{},"sourceType":"module"}