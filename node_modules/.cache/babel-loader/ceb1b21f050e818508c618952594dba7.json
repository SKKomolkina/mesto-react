{"ast":null,"code":"import _slicedToArray from\"/Users/meowmeow/development/mesto-react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React from'react';import{CurrentUserContext}from'../contexts/CurrentUserContext';import PopupWithForm from'./PopupWithForm';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function AddPlacePopup(props){var isOpen=props.isOpen,onClose=props.onClose,onAddPlace=props.onAddPlace;var currentUser=React.useContext(CurrentUserContext);var _React$useState=React.useState(''),_React$useState2=_slicedToArray(_React$useState,2),title=_React$useState2[0],setTitle=_React$useState2[1];var _React$useState3=React.useState(''),_React$useState4=_slicedToArray(_React$useState3,2),link=_React$useState4[0],setLink=_React$useState4[1];function handleChangeTitle(evt){setTitle(evt.target.value);}function handleChangeLink(evt){setLink(evt.target.value);}React.useEffect(function(){setTitle(currentUser.title);setLink(currentUser.link);},[currentUser]);function handleSubmit(evt){evt.preventDefault();onAddPlace({name:title,link:link});}return/*#__PURE__*/_jsxs(PopupWithForm,{name:\"photo\",title:\"\\u041D\\u043E\\u0432\\u043E\\u0435 \\u043C\\u0435\\u0441\\u0442\\u043E\",buttonText:\"\\u0421\\u043E\\u0437\\u0434\\u0430\\u0442\\u044C\",isOpen:isOpen,onClose:onClose,onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"input\",{onChange:handleChangeTitle,value:title||'',id:\"popup__input_type_title\",className:\"popup__input popup__input_type_title\",type:\"text\",name:\"name\",placeholder:\"\\u041D\\u0430\\u0437\\u0432\\u0430\\u043D\\u0438\\u0435\",minLength:\"1\",maxLength:\"30\",required:true}),/*#__PURE__*/_jsx(\"span\",{id:\"popup__input_type_title-error\",className:\"popup__error\"}),/*#__PURE__*/_jsx(\"input\",{onChange:handleChangeLink,value:link||'',id:\"popup__input_type_image\",className:\"popup__input popup__input_type_image\",type:\"url\",name:\"link\",placeholder:\"\\u0421\\u0441\\u044B\\u043B\\u043A\\u0430 \\u043D\\u0430 \\u043A\\u0430\\u0440\\u0442\\u0438\\u043D\\u043A\\u0443\",required:true}),/*#__PURE__*/_jsx(\"span\",{id:\"popup__input_type_image-error\",className:\"popup__error\"})]});}export default AddPlacePopup;","map":{"version":3,"sources":["/Users/meowmeow/development/mesto-react/src/components/AddPlacePopup.js"],"names":["React","CurrentUserContext","PopupWithForm","AddPlacePopup","props","isOpen","onClose","onAddPlace","currentUser","useContext","useState","title","setTitle","link","setLink","handleChangeTitle","evt","target","value","handleChangeLink","useEffect","handleSubmit","preventDefault","name"],"mappings":"8JAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,kBAAT,KAAmC,gCAAnC,CACA,MAAOC,CAAAA,aAAP,KAA0B,iBAA1B,C,wFAEA,QAASC,CAAAA,aAAT,CAAuBC,KAAvB,CAA8B,CAC1B,GAAQC,CAAAA,MAAR,CAAwCD,KAAxC,CAAQC,MAAR,CAAgBC,OAAhB,CAAwCF,KAAxC,CAAgBE,OAAhB,CAAyBC,UAAzB,CAAwCH,KAAxC,CAAyBG,UAAzB,CAEA,GAAMC,CAAAA,WAAW,CAAGR,KAAK,CAACS,UAAN,CAAiBR,kBAAjB,CAApB,CAEA,oBAA0BD,KAAK,CAACU,QAAN,CAAe,EAAf,CAA1B,oDAAOC,KAAP,qBAAcC,QAAd,qBACA,qBAAwBZ,KAAK,CAACU,QAAN,CAAe,EAAf,CAAxB,qDAAOG,IAAP,qBAAaC,OAAb,qBAEA,QAASC,CAAAA,iBAAT,CAA2BC,GAA3B,CAAgC,CAC5BJ,QAAQ,CAACI,GAAG,CAACC,MAAJ,CAAWC,KAAZ,CAAR,CACH,CAED,QAASC,CAAAA,gBAAT,CAA0BH,GAA1B,CAA+B,CAC3BF,OAAO,CAACE,GAAG,CAACC,MAAJ,CAAWC,KAAZ,CAAP,CACH,CAEDlB,KAAK,CAACoB,SAAN,CAAgB,UAAM,CAClBR,QAAQ,CAACJ,WAAW,CAACG,KAAb,CAAR,CACAG,OAAO,CAACN,WAAW,CAACK,IAAb,CAAP,CACH,CAHD,CAGG,CAACL,WAAD,CAHH,EAKA,QAASa,CAAAA,YAAT,CAAsBL,GAAtB,CAA2B,CACvBA,GAAG,CAACM,cAAJ,GAEAf,UAAU,CAAC,CACPgB,IAAI,CAAEZ,KADC,CAEPE,IAAI,CAAJA,IAFO,CAAD,CAAV,CAIH,CAED,mBACI,MAAC,aAAD,EACI,IAAI,CAAC,OADT,CAEI,KAAK,CAAC,+DAFV,CAGI,UAAU,CAAC,4CAHf,CAKI,MAAM,CAAER,MALZ,CAMI,OAAO,CAAEC,OANb,CAOI,QAAQ,CAAEe,YAPd,wBAUI,cACI,QAAQ,CAAEN,iBADd,CAEI,KAAK,CAAEJ,KAAK,EAAI,EAFpB,CAII,EAAE,CAAC,yBAJP,CAKI,SAAS,CAAC,sCALd,CAKqD,IAAI,CAAC,MAL1D,CAKiE,IAAI,CAAC,MALtE,CAMI,WAAW,CAAC,kDANhB,CAOI,SAAS,CAAC,GAPd,CAQI,SAAS,CAAC,IARd,CASI,QAAQ,KATZ,EAVJ,cAqBI,aAAM,EAAE,CAAC,+BAAT,CAAyC,SAAS,CAAC,cAAnD,EArBJ,cAuBI,cACI,QAAQ,CAAEQ,gBADd,CAEI,KAAK,CAAEN,IAAI,EAAI,EAFnB,CAII,EAAE,CAAC,yBAJP,CAKI,SAAS,CAAC,sCALd,CAMI,IAAI,CAAC,KANT,CAMe,IAAI,CAAC,MANpB,CAOI,WAAW,CAAC,oGAPhB,CAQI,QAAQ,KARZ,EAvBJ,cAiCI,aAAM,EAAE,CAAC,+BAAT,CAAyC,SAAS,CAAC,cAAnD,EAjCJ,GADJ,CAsCH,CAED,cAAeV,CAAAA,aAAf","sourcesContent":["import React from 'react';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\nimport PopupWithForm from './PopupWithForm';\n\nfunction AddPlacePopup(props) {\n    const { isOpen, onClose, onAddPlace } = props;\n\n    const currentUser = React.useContext(CurrentUserContext);\n    \n    const [title, setTitle] = React.useState('');\n    const [link, setLink] = React.useState('');\n\n    function handleChangeTitle(evt) {\n        setTitle(evt.target.value);\n    }\n\n    function handleChangeLink(evt) {\n        setLink(evt.target.value);\n    }\n\n    React.useEffect(() => {\n        setTitle(currentUser.title);\n        setLink(currentUser.link);\n    }, [currentUser]);\n\n    function handleSubmit(evt) {\n        evt.preventDefault();\n\n        onAddPlace({\n            name: title,\n            link,\n        });\n    }\n\n    return (\n        <PopupWithForm\n            name='photo'\n            title='Новое место'\n            buttonText='Создать'\n\n            isOpen={isOpen}\n            onClose={onClose}\n            onSubmit={handleSubmit}\n        >\n\n            <input\n                onChange={handleChangeTitle}\n                value={title || ''}\n\n                id=\"popup__input_type_title\"\n                className=\"popup__input popup__input_type_title\" type=\"text\" name=\"name\"\n                placeholder=\"Название\"\n                minLength=\"1\"\n                maxLength=\"30\"\n                required\n            />\n            <span id=\"popup__input_type_title-error\" className=\"popup__error\"></span>\n\n            <input\n                onChange={handleChangeLink}\n                value={link || ''}\n                \n                id=\"popup__input_type_image\"\n                className=\"popup__input popup__input_type_image\"\n                type=\"url\" name=\"link\"\n                placeholder=\"Ссылка на картинку\"\n                required\n            />\n            <span id=\"popup__input_type_image-error\" className=\"popup__error\"></span>\n\n        </PopupWithForm>\n    )\n}\n\nexport default AddPlacePopup;"]},"metadata":{},"sourceType":"module"}